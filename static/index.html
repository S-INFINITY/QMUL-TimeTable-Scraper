<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Generate Timetable ICS File</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="static/styles.css">
</head>
<body class="bg-gradient-to-br from-teal-500 to-blue-600 min-h-screen flex flex-col items-center justify-center p-4">

    <div class="bg-white p-6 sm:p-10 rounded-lg shadow-xl max-w-md w-full animate-fade-in space-y-6">
        <h2 class="text-2xl sm:text-3xl font-extrabold text-center text-blue-700">Generate Your Timetable ðŸ› </h2>
        
        <!-- QA version is using https to connect to FastAPI. Not sure if http to localhost will work here -->
        <form id="icsForm" action="http://localhost:8000/generate-ics" method="post"> 
            <div class="space-y-4">
                <label for="studentID" class="block text-lg sm:text-xl font-semibold text-blue-600 mb-2">Enter Your 9-Digit Student ID</label>
                <input type="text" id="studentID" name="studentID" class="w-full px-4 py-3 border border-blue-300 rounded-lg shadow-sm text-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300" placeholder="123456789" required pattern="\d{9}" title="Please enter a valid 9-digit Student ID">
            </div>

            <button type="submit" class="w-full bg-green-600 text-white text-lg py-3 rounded-lg shadow-lg hover:bg-green-500 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 focus:outline-none focus:ring-4 focus:ring-green-400 mt-6">Generate ICS File âš¡</button>
        </form>

        <div id="spinner" class="spinner"></div>
        <div id="tick" class="tick">âœ”</div>

        <div class="instructions mt-6">
            <h3 class="text-lg font-bold text-blue-700">How to Import Your ICS File:</h3>

            <button type="button" class="toggle" data-target="#appleContent">
                Apple Calendar (macOS/iOS) <span class="toggle-arrow">â–¼</span>
            </button>
            <div id="appleContent" class="collapsible">
                <p>Follow these <a href="https://support.apple.com/en-gb/guide/calendar/icl1023/mac" target="_blank">import instructions</a> to add the file to Apple Calendar.</p>
            </div>

            <button type="button" class="toggle" data-target="#googleContent">
                Google Calendar <span class="toggle-arrow">â–¼</span>
            </button>
            <div id="googleContent" class="collapsible">
                <p>Follow these <a href="https://support.google.com/calendar/answer/37118?hl=en" target="_blank">import instructions</a> to add the file to Google Calendar.</p>
            </div>

            <button type="button" class="toggle" data-target="#outlookContent">
                Microsoft Outlook <span class="toggle-arrow">â–¼</span>
            </button>
            <div id="outlookContent" class="collapsible">
                <p>Follow these <a href="https://support.microsoft.com/en-us/office/import-or-subscribe-to-a-calendar-in-outlook-on-the-web-503ffaf6-7b86-44fe-8dd6-8099d95f38df" target="_blank">import instructions</a> to add the file to Outlook.</p>
            </div>
        </div>
    </div>

    <script src="static/script.js"></script>
</body>
</html>